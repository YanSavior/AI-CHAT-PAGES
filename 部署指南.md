# RAG API éƒ¨ç½²æŒ‡å—

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### æ–¹æ¡ˆ1ï¼šRailwayï¼ˆæ¨èï¼‰

#### æ­¥éª¤1ï¼šå‡†å¤‡ä»£ç 
```bash
# ç¡®ä¿æ‰€æœ‰æ–‡ä»¶éƒ½å·²æäº¤åˆ°GitHub
git add .
git commit -m "Add RAG API deployment files"
git push origin main
```

#### æ­¥éª¤2ï¼šéƒ¨ç½²åˆ°Railway
1. è®¿é—® [Railway.app](https://railway.app)
2. ä½¿ç”¨GitHubè´¦å·ç™»å½•
3. ç‚¹å‡» "New Project"
4. é€‰æ‹© "Deploy from GitHub repo"
5. é€‰æ‹©æ‚¨çš„GitHubä»“åº“
6. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆçº¦5-10åˆ†é’Ÿï¼‰
7. å¤åˆ¶ç”Ÿæˆçš„åŸŸåï¼ˆå¦‚ï¼š`https://your-app-name.railway.app`ï¼‰

#### æ­¥éª¤3ï¼šæ›´æ–°å‰ç«¯é…ç½®
åœ¨ `src/components/ChatInterface.js` å’Œ `src/components/FreshmanChatInterface.js` ä¸­ï¼š
```javascript
// å°†è¿™ä¸€è¡Œï¼š
return 'https://your-rag-api.railway.app';

// æ›¿æ¢ä¸ºå®é™…çš„RailwayåŸŸåï¼š
return 'https://your-app-name.railway.app';
```

### æ–¹æ¡ˆ2ï¼šRender

#### æ­¥éª¤1ï¼šå‡†å¤‡ä»£ç 
åŒä¸Š

#### æ­¥éª¤2ï¼šéƒ¨ç½²åˆ°Render
1. è®¿é—® [Render.com](https://render.com)
2. ä½¿ç”¨GitHubè´¦å·ç™»å½•
3. ç‚¹å‡» "New +" é€‰æ‹© "Web Service"
4. è¿æ¥æ‚¨çš„GitHubä»“åº“
5. è®¾ç½®é…ç½®ï¼š
   - **Name**: `rag-api`
   - **Environment**: `Python 3`
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `uvicorn api_server:app --host 0.0.0.0 --port $PORT`
6. ç‚¹å‡» "Create Web Service"
7. ç­‰å¾…éƒ¨ç½²å®Œæˆ
8. å¤åˆ¶ç”Ÿæˆçš„åŸŸå

## ğŸ”§ æœ¬åœ°æµ‹è¯•

### å¯åŠ¨RAG APIæœåŠ¡å™¨
```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨APIæœåŠ¡å™¨
python api_server.py
```

### æµ‹è¯•API
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8000/api/health

# æµ‹è¯•æŸ¥è¯¢
curl -X POST http://localhost:8000/api/query \
  -H "Content-Type: application/json" \
  -d '{"question": "è®¡ç®—æœºä¸“ä¸šéœ€è¦ä¿®å¤šå°‘å­¦åˆ†ï¼Ÿ"}'
```

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

### Railwayç›‘æ§
- è®¿é—®Railwayä»ªè¡¨æ¿æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
- æŸ¥çœ‹æ—¥å¿—ï¼š`railway logs`
- ç›‘æ§èµ„æºä½¿ç”¨æƒ…å†µ

### Renderç›‘æ§
- è®¿é—®Renderä»ªè¡¨æ¿æŸ¥çœ‹æœåŠ¡çŠ¶æ€
- æŸ¥çœ‹å®æ—¶æ—¥å¿—
- ç›‘æ§æ€§èƒ½æŒ‡æ ‡

## ğŸ”„ è‡ªåŠ¨éƒ¨ç½²

### GitHub Actionsï¼ˆå¯é€‰ï¼‰
åˆ›å»º `.github/workflows/deploy.yml`ï¼š
```yaml
name: Deploy RAG API

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Deploy to Railway
      uses: railway/deploy@v1
      with:
        railway_token: ${{ secrets.RAILWAY_TOKEN }}
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **éƒ¨ç½²å¤±è´¥**
   - æ£€æŸ¥ `requirements.txt` æ˜¯å¦åŒ…å«æ‰€æœ‰ä¾èµ–
   - ç¡®ä¿ `api_server.py` å­˜åœ¨ä¸”è¯­æ³•æ­£ç¡®
   - æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—

2. **APIæ— æ³•è®¿é—®**
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
   - ç¡®è®¤ç«¯å£é…ç½®æ­£ç¡®
   - éªŒè¯åŸŸåæ˜¯å¦æ­£ç¡®

3. **æ¨¡å‹ä¸‹è½½å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - å¢åŠ éƒ¨ç½²è¶…æ—¶æ—¶é—´
   - ä½¿ç”¨é•œåƒæº

### è°ƒè¯•å‘½ä»¤
```bash
# æ£€æŸ¥APIçŠ¶æ€
curl -X GET https://your-api-domain.com/api/health

# æµ‹è¯•æŸ¥è¯¢
curl -X POST https://your-api-domain.com/api/query \
  -H "Content-Type: application/json" \
  -d '{"question": "æµ‹è¯•é—®é¢˜"}'
```

## ğŸ’¡ ä¼˜åŒ–å»ºè®®

1. **æ€§èƒ½ä¼˜åŒ–**
   - ä½¿ç”¨GPUåŠ é€Ÿï¼ˆå¦‚æœå¯ç”¨ï¼‰
   - ä¼˜åŒ–å‘é‡æ•°æ®åº“æŸ¥è¯¢
   - å®ç°ç¼“å­˜æœºåˆ¶

2. **æˆæœ¬ä¼˜åŒ–**
   - é€‰æ‹©åˆé€‚çš„éƒ¨ç½²å¹³å°
   - ç›‘æ§èµ„æºä½¿ç”¨
   - è®¾ç½®è‡ªåŠ¨ä¼‘çœ 

3. **å®‰å…¨ä¼˜åŒ–**
   - æ·»åŠ APIå¯†é’¥è®¤è¯
   - é™åˆ¶è¯·æ±‚é¢‘ç‡
   - å¯ç”¨HTTPS

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—
2. æ£€æŸ¥é…ç½®æ–‡ä»¶
3. è”ç³»å¹³å°æ”¯æŒ
4. æäº¤Issueåˆ°GitHubä»“åº“ 