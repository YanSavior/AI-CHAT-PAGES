# 直接部署RAG API指南（无需Git）

## 🚀 快速部署到Railway

### 步骤1：准备文件
确保您有以下文件：
- ✅ `api_server.py` - RAG API服务器
- ✅ `requirements.txt` - Python依赖
- ✅ `Procfile` - 部署配置
- ✅ `railway.json` - Railway配置
- ✅ `runtime.txt` - Python版本
- ✅ `rag_system/` - RAG系统模块
- ✅ `data/` - 数据文件

### 步骤2：创建GitHub仓库
1. 访问 https://github.com
2. 点击 "New repository"
3. 输入仓库名称（如：`rag-api-server`）
4. 选择 "Public"
5. 不要初始化README
6. 点击 "Create repository"

### 步骤3：上传文件到GitHub
1. 在GitHub仓库页面，点击 "uploading an existing file"
2. 将以下文件拖拽上传：
   - `api_server.py`
   - `requirements.txt`
   - `Procfile`
   - `railway.json`
   - `runtime.txt`
   - `rag_system/` 文件夹
   - `data/` 文件夹
3. 点击 "Commit changes"

### 步骤4：部署到Railway
1. 访问 https://railway.app
2. 使用GitHub账号登录
3. 点击 "New Project"
4. 选择 "Deploy from GitHub repo"
5. 选择您刚创建的GitHub仓库
6. 等待部署完成（约5-10分钟）

### 步骤5：获取部署域名
1. 部署完成后，Railway会显示一个域名
2. 例如：`https://your-app-name.railway.app`
3. 复制这个域名

### 步骤6：更新前端配置
在以下文件中更新API地址：
- `src/components/ChatInterface.js`
- `src/components/FreshmanChatInterface.js`

将：
```javascript
return 'https://your-rag-api.railway.app';
```

替换为实际的Railway域名：
```javascript
return 'https://your-app-name.railway.app';
```

### 步骤7：测试部署
1. 访问您的Railway域名
2. 应该看到：`{"message": "RAG系统API服务", "status": "running"}`
3. 测试健康检查：`https://your-domain.com/api/health`

## 🔧 故障排除

### 常见问题：
1. **部署失败**：检查所有必需文件是否已上传
2. **API无法访问**：等待几分钟让部署完成
3. **模型下载失败**：Railway会自动重试

### 调试命令：
```bash
# 检查API状态
curl https://your-domain.com/api/health

# 测试查询
curl -X POST https://your-domain.com/api/query \
  -H "Content-Type: application/json" \
  -d '{"question": "测试问题"}'
```

## ✅ 完成后的效果

- **前端**：Netlify（免费，无时间限制）
- **RAG API**：Railway（每月500小时免费）
- **自动检测**：用户打开网页时自动检测RAG API状态
- **智能增强**：AI回答时会自动使用专业知识库 